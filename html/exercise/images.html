<div wm-slider>
  <p>
    <img
      width="513"
      height="342"
      alt="Muro da cidade"
      title="Muro da cidade por Tarso Bessa"
      src="http://files.cod3r.com.br/curso-web/imagem1.jpg"
    />
  </p>

  <p>
    <img
      height="342"
      alt="Intro Cod3r"
      src="http://files.cod3r.com.br/curso-web/imagem2.gif"
    />
  </p>

  <p class="circular">
    <img
      height="342"
      alt="Rio de Janeiro"
      src="http://files.cod3r.com.br/curso-web/imagem3.png"
    />
  </p>

  <p class="text">
    <img
      alt="Avatar"
      height="50"
      align="left"
      src="http://files.cod3r.com.br/curso-web/avatar.jpg"
    />
    consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque
    porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur,
    adipisci velit, sed quia olores eos qui ratione voluptatem sequi nesciunt.
    Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet,
    consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt
    ut labore et dolore magnam aliquam quaerat voluptatem.
  </p>

  <p class="city"></p>

  <p>
    <picture>
      <source
        srcset="http://files.cod3r.com.br/curso-web/logo-larga.png"
        media="(min-width: 600px)"
      />
      <img
        src="http://files.cod3r.com.br/curso-web/logo-estreita.png"
        alt="Logo"
      />
    </picture>
  </p>
</div>

<style>
  p {
    display: none;
    position: absolute;
  }

  .circular {
    width: 513px;
  }

  .text {
    width: 400px;
  }

  .text img {
    margin-right: 12px;
  }

  .city {
    width: 513px;
    height: 342px;
    background-size: 200%;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url("http://files.cod3r.com.br/curso-web/imagem4.jpg");
  }
</style>

<script>
  function isMove(elem, start, end, step, callback) {
    const newStart = start - step;

    if (newStart >= end) {
      elem.style.left = newStart + "px";
      setTimeout(() => isMove(elem, newStart, end, step, callback), 10);
    } else {
      callback();
    }
  }

  // const p = document.querySelector("[wm-slider] > p");
  // p.style.display = "block";

  // isMove(p, 1500, -520, 5, () => {
  //   console.log("FINISH...");
  // });

  function slider() {
    const elements = document.querySelectorAll("[wm-slider] > p");
    const slides = Array.from(elements);

    showSlide(slides, slides[0]);
  }

  function showSlide(slides, slide) {
    slide.style.display = "block";

    const start = innerWidth;
    const end = -slide.clientWidth;

    slide.style.left = `${start}px`;

    isMove(slide, start, end, 5, () => {
      slide.style.display = "none";
      showSlide(slides, getNext(slides, slide));
    });
  }

  function getNext(list, actual) {
    const i = list.indexOf(actual) + 1;
    return i < list.length ? list[i] : list[0];
  }

  slider();
</script>
