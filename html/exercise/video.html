<video
  controls
  autoplay
  id="myVideo"
  width="900px"
  height="500px"
  controlList="nodownload"
>
  <source
    type="video/mp4"
    src="http://files.cod3r.com.br/curso-web/video.mp4"
  />
  Your browser don't support video of tag.
</video>

<div wm-progress="myVideo" class="progress">
  <div></div>
</div>

<div>
  <button wm-play="myVideo">Play</button>
  <button wm-pause="myVideo">Pause</button>
</div>

<style>
  .progress {
    height: 20px;
    width: 500px;
    margin: 20px 0px;
    border: solid 1px #444;
  }

  .progress > div {
    width: 0%;
    height: 100%;
    color: #fff;
    font-size: 14px;
    text-align: right;
    background-color: red;
  }
</style>

<script>
  function videoConfig(id) {
    const video = document.getElementById(id);
    video.oncontextmenu = () => false;

    document.querySelector(`[wm-play=${id}]`).onclick = (e) => video.play();
    document.querySelector(`[wm-pause=${id}]`).onclick = (e) => video.pause();

    setInterval(() => {
      const percentage = (video.currentTime / video.duration) * 100;
      const divValue = document.querySelector(`[wm-progress=${id}] > div`);

      divValue.style.width = `${percentage}%`;
      divValue.innerHTML = `${percentage.toFixed(1)}%`;
    }, 500);
  }

  videoConfig("myVideo");
</script>
